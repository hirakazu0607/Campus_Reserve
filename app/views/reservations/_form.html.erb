<%= form_with(model: reservation) do |form| %>
  <% if reservation.errors.any? %>
    <div style="background-color: #f8d7da; border: 1px solid #f5c6cb; color: #721c24; padding: 1rem; margin-bottom: 1rem; border-radius: 4px;">
      <h3 style="margin-top: 0;"><%= reservation.errors.count %>件のエラーがあります:</h3>
      <ul style="margin-bottom: 0;">
        <% reservation.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div style="margin-bottom: 1.5rem;">
    <%= form.label :facility_id, "施設", style: "display: block; font-weight: bold; margin-bottom: 0.5rem;" %>
    <%= form.collection_select :facility_id, Facility.where(available: true).order(:name), :id, :name, 
        { prompt: "施設を選択してください" },
        { style: "width: 100%; padding: 0.5rem; border: 1px solid #ddd; border-radius: 4px;" } %>
  </div>

  <div style="margin-bottom: 1.5rem;">
    <%= form.label :user_name, "予約者名", style: "display: block; font-weight: bold; margin-bottom: 0.5rem;" %>
    <%= form.text_field :user_name, style: "width: 100%; padding: 0.5rem; border: 1px solid #ddd; border-radius: 4px;" %>
  </div>

  <div style="margin-bottom: 1.5rem;">
    <%= form.label :user_email, "メールアドレス", style: "display: block; font-weight: bold; margin-bottom: 0.5rem;" %>
    <%= form.email_field :user_email, style: "width: 100%; padding: 0.5rem; border: 1px solid #ddd; border-radius: 4px;" %>
  </div>

  <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1.5rem;">
    <div>
      <%= form.label :start_time, "開始時刻", style: "display: block; font-weight: bold; margin-bottom: 0.5rem;" %>
      <%= form.datetime_field :start_time, style: "width: 100%; padding: 0.5rem; border: 1px solid #ddd; border-radius: 4px;" %>
    </div>

    <div>
      <%= form.label :end_time, "終了時刻", style: "display: block; font-weight: bold; margin-bottom: 0.5rem;" %>
      <%= form.datetime_field :end_time, style: "width: 100%; padding: 0.5rem; border: 1px solid #ddd; border-radius: 4px;" %>
    </div>
  </div>

  <div style="margin-bottom: 1.5rem;">
    <%= form.label :purpose, "利用目的", style: "display: block; font-weight: bold; margin-bottom: 0.5rem;" %>
    <%= form.text_area :purpose, rows: 4, style: "width: 100%; padding: 0.5rem; border: 1px solid #ddd; border-radius: 4px;" %>
  </div>

  <div style="margin-bottom: 1.5rem;">
    <%= form.label :status, "ステータス", style: "display: block; font-weight: bold; margin-bottom: 0.5rem;" %>
    <%= form.select :status, 
        options_for_select([['承認待ち', 'pending'], ['確定', 'confirmed'], ['キャンセル', 'cancelled']], reservation.status),
        {},
        { style: "width: 100%; padding: 0.5rem; border: 1px solid #ddd; border-radius: 4px;" } %>
  </div>

  <div style="margin-top: 2rem;">
    <%= form.submit "予約を登録", style: "background-color: #27ae60; color: white; padding: 0.75rem 2rem; border: none; border-radius: 4px; cursor: pointer; font-size: 1rem;" %>
  </div>
<% end %>
