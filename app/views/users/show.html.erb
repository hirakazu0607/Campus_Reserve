<% content_for :title, "#{@user.name} のプロフィール" %>

<div class="row justify-content-center mt-5">
  <div class="col-md-8">
    <div class="card shadow">
      <div class="card-body">
        <%# ユーザー情報ヘッダー %>
        <div class="d-flex justify-content-between align-items-center mb-4">
          <h2 class="card-title mb-0">
            👤 <%= @user.name %>
          </h2>
          <% if current_user == @user %>
            <%= link_to "編集", edit_user_path(@user), class: "btn btn-outline-primary" %>
          <% end %>
        </div>

        <%# ロールバッジ %>
        <div class="mb-4">
          <% if @user.staff? %>
            <span class="badge bg-danger fs-6">👔 職員</span>
          <% else %>
            <span class="badge bg-primary fs-6">🎓 学生</span>
          <% end %>
        </div>

        <hr>

        <%# プロフィール情報 %>
        <div class="row mb-3">
          <div class="col-md-4">
            <strong>📧 メールアドレス</strong>
          </div>
          <div class="col-md-8">
            <%= @user.email %>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-md-4">
            <strong>🆔 <%= @user.staff? ? '職員番号' : '学籍番号' %></strong>
          </div>
          <div class="col-md-8">
            <%= @user.student_or_staff_number %>
          </div>
        </div>

        <div class="row mb-3">
          <div class="col-md-4">
            <strong>📅 登録日</strong>
          </div>
          <div class="col-md-8">
            <%= @user.created_at.strftime("%Y年%m月%d日") %>
          </div>
        </div>

        <%# アクションボタン %>
        <div class="d-grid gap-2 mt-4">
          <%= link_to "ホームに戻る", root_path, class: "btn btn-secondary" %>
        </div>
      </div>
    </div>

    <%# 今後の拡張：予約履歴などを表示 %>
    <% if current_user == @user %>
      <div class="card shadow mt-4">
        <div class="card-body">
          <h5 class="card-title">📋 予約履歴</h5>
          <p class="text-muted">※ 予約機能は今後実装予定です</p>
        </div>
      </div>
    <% end %>
  </div>
</div>
